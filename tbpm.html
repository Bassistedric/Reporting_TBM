<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#104861" />
  <title>VMA Tools — tbPM</title>

  <!-- PWA -->
  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="apple-touch-icon" href="./icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">

  <style>
    :root{
      --vma-blue:#104861;
      --bg:#f5f6f8;
      --card:#ffffff;
      --border:#e6e6e6;
      --text:#111827;
      --muted:#6b7280;
      --shadow:0 10px 26px rgba(0,0,0,.08);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);}
    .wrap{max-width:520px;margin:0 auto;padding:14px;}
    .topbar{position:sticky;top:0;z-index:10;background:rgba(245,246,248,.92);backdrop-filter:blur(8px);padding:10px 0;}
    .rowTop{display:flex;align-items:center;gap:10px;justify-content:space-between;}
    .back{border:1px solid var(--border);background:#fff;border-radius:14px;padding:10px 12px;cursor:pointer}
    .title{
      flex:1;
      background:var(--vma-blue); color:#D9D9D9;
      border-radius:16px; padding:12px 14px;
      text-align:center; font-weight:900; letter-spacing:.3px;
      box-shadow:var(--shadow);
    }
    .muted{color:var(--muted);font-size:12px;margin-top:10px}

    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
    .tile{
      display:flex;flex-direction:column;gap:10px;
      align-items:center;justify-content:center;
      min-height:140px;
      border:1px solid var(--border);
      background:var(--card);
      border-radius:22px;
      box-shadow:var(--shadow);
      text-decoration:none;color:inherit;
      padding:14px;
      cursor:pointer;
      user-select:none;
    }
    .tile:active{transform:translateY(1px)}
    .iconWrap{
      width:62px;height:62px;border-radius:18px;
      background:rgba(16,72,97,.10);
      display:flex;align-items:center;justify-content:center;
      border:1px solid rgba(16,72,97,.18);
    }
    .tileTitle{font-weight:900;font-size:16px;letter-spacing:.2px}
    .tileSub{font-size:12px;color:var(--muted);text-align:center;line-height:1.2}
    .footer{margin-top:14px;font-size:12px;color:var(--muted);text-align:center}
    .brandRow{display:flex;align-items:center;justify-content:space-between;margin-top:12px}
    .pill{
      font-size:12px;
      padding:6px 10px;border-radius:999px;
      border:1px solid var(--border);background:#fff;
      color:var(--muted)
    }

    @media (max-width:380px){
      .grid{grid-template-columns:1fr}
      .tile{min-height:120px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="rowTop">
        <button class="back" onclick="location.href='./index.html'">← Retour</button>
        <div class="title">tbPM</div>
        <div style="width:74px"></div>
      </div>
    </div>

    <div class="brandRow">
      <div class="pill">VMA Tools</div>
      <div class="pill">Module : TBM</div>
    </div>

    <div class="muted">
      Choisis une action. (Plus tard : ILT, audits, etc.)
    </div>

    <div class="grid">
      <a class="tile" href="./attestation.html" aria-label="Présences chantier">
        <div class="iconWrap" aria-hidden="true">
          <!-- icon: clipboard-check -->
          <svg width="30" height="30" viewBox="0 0 24 24" fill="none">
            <path d="M9 6h6" stroke="#104861" stroke-width="2" stroke-linecap="round"/>
            <path d="M9 10h6" stroke="#104861" stroke-width="2" stroke-linecap="round"/>
            <path d="M9 14h3" stroke="#104861" stroke-width="2" stroke-linecap="round"/>
            <path d="M16 3h-1.2a2 2 0 0 0-1.8-1h-2a2 2 0 0 0-1.8 1H8a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8" stroke="#104861" stroke-width="2" stroke-linejoin="round"/>
            <path d="M16 6l2 2 4-4" stroke="#104861" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="tileTitle">Présences chantier</div>
        <div class="tileSub">Signaler rapidement un “Absent +15j”</div>
      </a>

      <a class="tile" href="./reporting_pms.html" aria-label="Suivi PM">
        <div class="iconWrap" aria-hidden="true">
          <!-- icon: chart -->
          <svg width="30" height="30" viewBox="0 0 24 24" fill="none">
            <path d="M4 19V5" stroke="#104861" stroke-width="2" stroke-linecap="round"/>
            <path d="M4 19h16" stroke="#104861" stroke-width="2" stroke-linecap="round"/>
            <path d="M8 16v-5" stroke="#104861" stroke-width="2" stroke-linecap="round"/>
            <path d="M12 16V9" stroke="#104861" stroke-width="2" stroke-linecap="round"/>
            <path d="M16 16V7" stroke="#104861" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="tileTitle">Suivi PM</div>
        <div class="tileSub">Vue filtrée + KPI (fait / à faire)</div>
      </a>
    </div>

    <div class="footer">
      Astuce : une fois en PWA, ça ressemble à une vraie appli.
    </div>
  </div>

  <!-- Service Worker (bump ?v=... si besoin) -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js?v=v1').catch(console.error);
      });
    }
  </script>
</body>
</html>
